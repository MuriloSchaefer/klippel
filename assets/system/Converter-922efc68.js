import{c as B,d as Se,b as Ee,_ as ue,o as e,B as x,a$ as A,b0 as Ue,b1 as V,b2 as E,r as h,aF as q,aV as F,aZ as te,aU as R,aQ as $e,R as M,n as qe,b4 as Ie,P as oe,I as G,b5 as be,b7 as fe,bh as ke,bi as ce,T as $,bj as le,aG as me,Z as Le,$ as Ge,aW as we,aI as Me,bk as K,bl as _e,e as De,bm as L,bn as je}from"../vendor-8eb1de95.js";import{A as Q,n as p,o as Re,l as Ae}from"../kernel-a935b9dd.js";const k="Converter",Pe="0.0.1",O="conversion-graph",Be={week:"Semana",day:"Dia",h:"H",m:"m",s:"s",ms:"ms"},Ve={selectedNode:void 0},Ce=B(`[${k}:${Q.COMMAND}] Load conversion graph`),ne=B(`[${k}:${Q.COMMAND}] Select node`),Fe=B(`[${k}:${Q.EVENT}] Conversion graph loaded`),Ke=B(`[${k}:${Q.COMMAND}] Node selected`),Qe=Se({name:k,initialState:Ve,reducers:{},extraReducers:o=>{o.addCase(ne,(t,{payload:a})=>({...t,selectedNode:a}))}}),pe=o=>o.Converter,N=o=>{const t=p("Store"),a=p("Graph"),c=p("Layout"),{useGraph:r}=a.hooks,i=r(O,l=>l),d=c.hooks.usePanelsManager(),{useAppDispatch:n,useAppSelector:m}=t.hooks,u=n(),s=Ee(pe,o),I=m(s);return m(pe),{state:I,selectNode:l=>{u(ne(l)),d.functions.openDetails()},addUnit:(l,j,f)=>{const y=ue.uniqueId(l.toLowerCase().replace(" ",""));i.actions.addNode({type:"UNIT",id:y,name:l,position:{x:0,y:0},abbreviation:j}),console.log(f),f&&(console.log("add scale"),i.actions.addEdge({id:`${y} -> ${f}`,type:"BELONGS_TO",sourceId:y,targetId:f}))},updateUnit:(l,j,f,y)=>{i.actions.updateNode({id:l,name:j,abbreviation:f});const g=i.state?.adjacencyList[l].outputs.filter(S=>i.state?.edges[S].type==="BELONGS_TO").map(S=>i.state?.edges[S]).pop();y?(g&&g.targetId!==y&&i.actions.removeEdge(g.id),i.actions.addEdge({id:`${l} -> ${y}`,type:"BELONGS_TO",sourceId:l,targetId:y})):g&&i.actions.removeEdge(g.id)},addCompoundUnit:(l,j)=>{const f=i.state?.nodes[l],y=i.state?.nodes[j],g=`${f.abbreviation} / ${y.abbreviation}`;if(i.state?.nodes[g]){console.error("unit already exists! skipping it.");return}const _={id:g,type:"COMPOUND_UNIT",position:{x:0,y:0},quotientUnitId:l,dividendUnitId:j,abbreviation:g,name:`${f.name} per ${y.name}`},H={id:`${g}->${l}`,type:"QUOTIENT",sourceId:g,targetId:l},v={id:`${g}->${j}`,type:"DIVIDEND",sourceId:g,targetId:j};i.actions.addNode(_),i.actions.addEdge(H),i.actions.addEdge(v)},updateCompoundUnit:(l,j,f)=>{},addScale:l=>{i.actions.addNode({type:"SCALE",id:ue.uniqueId(l.toLowerCase().replace(" ","")),name:l,position:{x:0,y:0}})},addConversion:(l,j,f,y,g)=>{console.log(l,j,f,y,g);let S;if(l==="factor"){if(!y){console.error("Factor required to add factor conversion! Skipping");return}S={type:"CONVERTS_TO",conversionType:"factor",factor:y,id:`${j}->${f}`,sourceId:j,targetId:f}}else{if(!g){console.error("Expression required to add expression conversion! Skipping");return}S={type:"CONVERTS_TO",conversionType:"expression",expression:g,id:`${j}-[conv]->${f}`,sourceId:j,targetId:f}}i.actions.addEdge(S)},removeConversion:l=>{i.actions.removeEdge(l)}}};function se({onChange:o,value:t,...a}){const c=p("Graph"),{hooks:{useGraph:r}}=c,i=r(O,d=>d&&Object.values(d.nodes).filter(n=>n.type==="SCALE"));return i.state?e.jsx(x,{role:"scale-selector",...a,sx:{display:"flex",gap:.2},children:e.jsxs(A,{sx:{m:1,minWidth:120,width:"min-content"},children:[e.jsx(Ue,{id:"label",children:"Escala"}),e.jsxs(V,{id:"scale-selector",inputProps:{id:"scale"},label:"Escala",labelId:"label",size:"small",onChange:d=>o(d.target.value),value:t??"",children:[i.state.map(d=>e.jsx(E,{value:d.id,children:d.name})),e.jsx(E,{value:"",children:"Nenhuma"})]})]})}):e.jsx(e.Fragment,{})}const xe={name:void 0,abbreviation:void 0,scale:void 0},We=()=>{const o=p("Pointer"),{PointerContainer:t,ConfirmAndCloseButton:a}=o.components,c=N(n=>n),[r,i]=h.useState(xe),d=h.useCallback(()=>{!r.name||!r.abbreviation||(c.addUnit(r.name,r.abbreviation,r.scale),i(xe))},[r,c]);return e.jsx(t,{component:e.jsxs(x,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e.jsx(q,{id:"unit-name",label:"Nome",variant:"standard",value:r.name,onChange:n=>i(m=>({...m,name:n.target.value}))}),e.jsx(q,{id:"abbreviation",label:"Abbreviation",variant:"standard",value:r.abbreviation,onChange:n=>i(m=>({...m,abbreviation:n.target.value})),sx:{alignItems:"center"}}),e.jsx(se,{value:r.scale??"",onChange:n=>i(m=>({...m,scale:n}))})]}),actions:[e.jsx(a,{handleConfirm:d},"confirm")],children:e.jsx(F,{primary:"Unidade",secondary:"Adiciona um tipo de unidade simples",sx:{cursor:"pointer",flexGrow:1}})})},he={name:void 0},ze=()=>{const o=p("Pointer"),{PointerContainer:t,ConfirmAndCloseButton:a}=o.components,c=N(n=>n),[r,i]=h.useState(he),d=h.useCallback(()=>{r.name&&(c.addScale(r.name),i(he))},[r,c]);return e.jsx(t,{component:e.jsx(x,{sx:{display:"flex",flexDirection:"column",gap:1},children:e.jsx(q,{id:"part-name",label:"Nome",variant:"standard",value:r.name,onChange:n=>i(m=>({...m,name:n.target.value}))})}),actions:[e.jsx(a,{handleConfirm:d},"confirm")],children:e.jsx(F,{primary:"Escala",secondary:"Adiciona um tipo de escala",sx:{cursor:"pointer",flexGrow:1}})})},P=({value:o,onChange:t,filterUnits:a=()=>!0,formControlProps:c,...r})=>{const i=p("Graph"),{useGraph:d}=i.hooks,n=d(O,u=>Object.values(u?.nodes??{}).filter(s=>s.type==="UNIT"||s.type==="COMPOUND_UNIT").map(s=>({...s,scale:Object.values(u?.nodes??{}).filter(I=>I.type==="SCALE").find(I=>u?.adjacencyList[s.id].outputs.includes(`${s.id} -> ${I.id}`))}))),m=h.useMemo(()=>n?.state?.filter(u=>a(u,u.scale))??[],[n.state,a]);return e.jsx(A,{...c,children:e.jsx(V,{id:"unit-selector",inputProps:{id:"unit"},size:"small",sx:{width:"max(min-content, 100px)",minWidth:100},onChange:t,value:o,...r,children:m.map(({id:u,name:s,abbreviation:I})=>e.jsx(E,{value:u,children:I},u))})})},ge={quotientUnit:"",dividendUnit:""},He=()=>{const o=p("Pointer"),{PointerContainer:t,ConfirmAndCloseButton:a}=o.components,c=N(n=>n),[r,i]=h.useState(ge),d=h.useCallback(()=>{c.addCompoundUnit(r.quotientUnit,r.dividendUnit),i(ge)},[r,c]);return e.jsx(t,{component:e.jsxs(x,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-evenly",gap:1},children:[e.jsx(P,{value:r.quotientUnit,onChange:(n,m)=>i(u=>({...u,quotientUnit:n.target.value}))}),e.jsx("span",{children:"/"}),e.jsx(P,{value:r.dividendUnit,onChange:(n,m)=>i(u=>({...u,dividendUnit:n.target.value}))})]}),actions:[e.jsx(a,{handleConfirm:d},"confirm")],children:e.jsx(F,{primary:"Unidade Composta",secondary:"Adiciona um tipo de unidade composta",sx:{cursor:"pointer",flexGrow:1}})})},Ze=()=>e.jsxs(te,{role:"list-options",sx:{paddingRight:5,overflow:"auto"},children:[e.jsx(R,{disableGutters:!0,children:e.jsx(We,{})},"unit"),e.jsx(R,{disableGutters:!0,children:e.jsx(He,{})},"compositeUnit"),e.jsx(R,{disableGutters:!0,children:e.jsx(ze,{})},"scale")]}),Ye=()=>{const o=p("Layout"),{SettingsPanel:t,Accordion:a}=o.components;return e.jsxs(t,{children:[e.jsx(a,{name:"Nodos",icon:e.jsx($e,{}),summary:"Tipos de nodos disponÃ­veis",children:e.jsx(Ze,{})}),e.jsx(e.Fragment,{})]})},Je=({graphId:o})=>{const{hooks:{useResizeObserver:t}}=p("Layout"),{hooks:{useGraph:a}}=p("Graph"),{hooks:{useD3Container:c},d3Components:{Grid:r,DependencyCircle:i}}=p("SVG"),d=N(v=>v),n=h.useRef(null),m=h.useRef(null),u=t(m),s=a(o,v=>v),I=h.useMemo(()=>{if(!s.state?.nodes)return{nodes:[],links:[]};const v=b=>{if(!s.state)return{id:"other",name:"Outros"};const U=Object.values(s.state.edges).find(T=>T.sourceId===b.id&&T.type==="BELONGS_TO");if(U){const T=s.state.nodes[U.targetId];return{id:T.id,name:T.name}}return{id:"other",name:"Outros"}};return{nodes:Object.values(s.state.nodes).map(b=>({...b,nodeLabel:"abbreviation"in b?b.abbreviation:b.name,group:v(b),radius:5,strength:10,x:b.position.x,y:b.position.y})),links:Object.values(s.state.edges).map(b=>({...b,source:b.sourceId,target:b.targetId}))}},[s]),l=qe(),[j,f]=h.useState(!0),[y,g]=[u?.width??700,u?.height??700],S=h.useCallback(v=>{d.selectNode(v)},[]),_=h.useCallback(v=>{d.selectNode(v)},[]),H=c().width(y).height(g).underlays([r({xSettings:{range:[-1,y+1],domain:[-1,y+1]},ySettings:{range:[-1,g+1],domain:[-1,g+1]},dimensions:[y,g]}).transformZoom((v,b)=>{j&&(b.translateBy(v,y/2,g/2),f(!1))}).build]).content([i().innerRadius(Math.min(y,g)/2-20).filterNode(v=>v.type==="UNIT"||v.type==="COMPOUND_UNIT").filterLink(v=>v.type==="CONVERTS_TO").renderGroup((v,b,U,T,D,ie)=>{v.selectAll("path").data([b]).join("path").attr("id",C=>C.id).on("click",C=>C.target.id!=="other"&&_(C.target.id)).attr("class","group-arc").attr("fill",C=>T(b.id)).attr("d",(C,re)=>D(U)),v.selectAll("text").data([b]).join("text").attr("class","group-text").text(C=>C.name).attr("id",C=>C.id).on("click",C=>C.target.id!=="other"&&_(C.target.id)).attr("fill",C=>T(C.id)).attr("text-anchor",(C,re)=>(U.endAngle+U.startAngle)/2>Math.PI?"end":"start").attr("transform",(C,re)=>{const[Z,Y]=D.centroid(U),de=Math.sqrt(Z*Z+Y*Y);return`translate(${Z/de*ie*1.3}, ${Y/de*ie*1.3})`})}).renderNode((v,b,U)=>{v.append("text").text(T=>T.nodeLabel).attr("fill",T=>d.state?.selectedNode===T.id?l.palette.getContrastText(l.palette.background.default):U(T.group.id)).attr("text-anchor","middle").on("pointerdown",(T,D)=>{S(D.id),T.stopPropagation()})}).theme(l.palette.mode).build]);return h.useLayoutEffect(()=>{!u||!n.current||H.render(I,n.current)},[I,u]),s.state?e.jsx("div",{ref:m,role:"conversion-graph-viewer",style:{height:"100%",width:"100%"},children:e.jsx("svg",{ref:n,id:`${s.id}`,width:"100%",height:"100%"})}):e.jsx(e.Fragment,{})},Xe=M.memo(Je),et=()=>{const o=p("Layout"),{Accordion:t}=o.components,a=p("Graph"),{useGraph:c}=a.hooks,r=N(u=>u.selectedNode),i=c(O,u=>r.state&&u?.nodes?{...u.nodes[r.state],scale:u.adjacencyList[r.state].outputs.filter(s=>u.edges[s].type==="BELONGS_TO").map(s=>u.edges[s].targetId).pop()}:void 0),[d,n]=h.useState(i.state);h.useEffect(()=>n(i.state),[r.state]);const m=h.useCallback(()=>{r.updateUnit(r.state,d?.name,d?.abbreviation,d?.scale)},[i]);return!r?.state||!i?.state?e.jsx(e.Fragment,{}):e.jsx(t,{name:"Propriedades",icon:e.jsx(Ie,{}),summary:"Propriedades da unidade",sx:{flexGrow:1},children:e.jsxs(oe,{variant:"outlined",square:!0,sx:{width:"100%",padding:1,"&:div + div":{borderTop:0},display:"flex",justifyContent:"space-between"},role:"unit-properties",children:[e.jsx(q,{id:"unit-name",label:"Nome",variant:"standard",value:d?.name??"",onChange:u=>n(s=>s&&{...s,name:u.target.value})}),e.jsx(q,{id:"abbreviation",label:"Abreviatura",variant:"standard",value:d?.abbreviation??"",onChange:u=>n(s=>s&&{...s,abbreviation:u.target.value}),sx:{alignItems:"center"}}),e.jsx(se,{value:d?.scale??"",onChange:u=>n(s=>s&&{...s,scale:u})}),e.jsxs(x,{sx:{display:"flex",flexDirection:"column",padding:0,gap:1,justifyContent:"space-between",alignContent:"space-evenly"},role:"actions",children:[e.jsx(G,{color:"success",id:"save-unit-properties",onClick:u=>m(),children:e.jsx(be,{})},"save"),e.jsx(G,{color:"info",id:"reset-unit-properties",onClick:u=>n(i.state),children:e.jsx(fe,{})},"reset")]})]})})},w=o=>{const t=p("Graph"),{useGraph:a}=t.hooks;return a(O,r=>r&&Object.values(r.nodes).filter(i=>o.includes(i.id)).reduce((i,d)=>({...i,[d.id]:d}),{})).state},W=({from:o="",to:t=""})=>{const a=p("Pointer"),{PointerContainer:c,ConfirmAndCloseButton:r}=a.components,i=N(u=>u),[d,n]=h.useState({type:"factor",from:o,to:t,factor:1,expression:"quantidade * 1"});h.useEffect(()=>n(u=>({...u,from:o,to:t})),[o,t]);const m=h.useCallback(()=>{d.from&&d.to&&i.addConversion(d.type,d.from,d.to,d.factor,d.expression)},[d]);return e.jsx(c,{component:e.jsxs(x,{sx:{display:"flex",flexDirection:"column",gap:1},role:"conversion-form",children:[e.jsx(x,{role:"conversion-type",sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:1},children:e.jsxs(ke,{color:"primary",value:d.type,exclusive:!0,onChange:(u,s)=>n(I=>({...I,type:s})),"aria-label":"Platform",children:[e.jsx(ce,{value:"factor",children:"Fator"}),e.jsx(ce,{value:"expresssion",children:"ExpressÃ£o"})]})}),e.jsxs(x,{role:"from-conversion",sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:1},children:[e.jsx($,{sx:{minWidth:30},children:"De:"}),e.jsx(P,{value:d.from,disabled:!!o,filterUnits:u=>u.id!==d.to,onChange:u=>n(s=>({...s,from:u.target.value})),formControlProps:{sx:{flexGrow:1}}})]}),e.jsxs(x,{role:"to-conversion",sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:1},children:[e.jsx($,{sx:{minWidth:30},children:"Para:"}),e.jsx(P,{value:d.to,disabled:!!t,filterUnits:u=>u.id!==d.from,formControlProps:{sx:{flexGrow:1}},onChange:u=>{console.log("changing"),n(s=>({...s,to:u.target.value}))}})]}),e.jsx(x,{children:d.type==="factor"?e.jsxs(x,{role:"factor-field",sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:1},children:[e.jsx($,{sx:{minWidth:30},children:"Fator"}),e.jsx(le,{value:d.factor,type:"number",sx:{width:"max-content",flexGrow:1},onChange:u=>n(s=>({...s,factor:+u.target.value})),startAdornment:e.jsx(me,{position:"start",children:"1:"})})]}):e.jsxs(e.Fragment,{children:[e.jsxs(x,{role:"expression-field",sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:1},children:[e.jsx($,{sx:{minWidth:30},children:"Exp"}),e.jsx(le,{value:d.expression,onChange:u=>n(s=>({...s,expression:u.target.value})),sx:{width:"max-content",flexGrow:1},startAdornment:e.jsx(me,{position:"start",children:"="})})]}),e.jsx($,{sx:{marginTop:1},children:"quantidade Ã© a Ãºnica variÃ¡vel prÃ©-definida, Ã© utilizada para definir a quantidade a ser convertida. HÃ¡ suas variantes quantidadeQuociente e quantidadeDividendo para unidades compostas"})]})})]}),actions:[e.jsx(r,{handleConfirm:m},"confirm")],children:e.jsx(Le,{startIcon:e.jsx(Ge,{}),variant:"outlined",size:"small",sx:{marginBottom:1},children:"Adicionar ConversÃ£o"})})},z=({unitId:o,type:t="outputs"})=>{const a=p("Graph"),{useGraph:c}=a.hooks,r=c(O,n=>{if(!n)return[];const m=n.adjacencyList[o].outputs.filter(s=>n.edges[s].type==="CONVERTS_TO").map(s=>n.edges[s]),u=n.adjacencyList[o].inputs.filter(s=>n.edges[s].type==="CONVERTS_TO").map(s=>n.edges[s]);return t==="inputs"?u:m}),i=N(n=>n),d=h.useCallback(n=>{i.removeConversion(n)},[]);return e.jsx(e.Fragment,{children:r.state?.map(n=>e.jsxs(oe,{variant:"outlined",square:!0,sx:{width:"100%",padding:1,"&:div + div":{borderTop:0},display:"flex"},role:"conversion-container",children:[e.jsx(R,{role:"conversion-info",children:e.jsx(F,{disableTypography:!0,primary:e.jsxs(x,{sx:{marginBottom:1},children:[e.jsx($,{children:n.id}),e.jsx(we,{})]}),secondary:e.jsx($,{component:"div",children:e.jsx(x,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:e.jsx(x,{sx:{gap:1,display:"flex",flexWrap:"wrap",flexDirection:"row"},role:"material-attributes","aria-label":"material attributes",children:n.conversionType==="expression"?n.expression:`1:${n.factor}`})})})})}),e.jsx(x,{sx:{display:"flex",flexDirection:"column",padding:0,justifyContent:"space-around",alignContent:"space-evenly"},role:"actions",children:e.jsx(G,{color:"error",id:`delete-conversion-${n.id}`,onClick:()=>d(n.id),sx:{flexGrow:2},children:e.jsx(Me,{})},"delete")})]},n.targetId))})},tt=()=>{const o=p("Layout"),t=N(i=>i.selectedNode),a=w([t.state]);if(!a||!t.state)throw Error("units should be available");const c=a[t.state],{Accordion:r}=o.components;return e.jsx(r,{name:"Converte de",icon:e.jsx(K,{}),sx:{flexGrow:1},summary:`Quais unidades podem ser convertidas em ${c.name}`,children:e.jsxs(te,{sx:{width:"100%"},role:"material-list",children:[e.jsx(W,{to:c.id}),e.jsx(z,{unitId:c.id,type:"inputs"})]})})},ot=()=>{const o=p("Layout"),t=N(i=>i.selectedNode),a=w([t.state]);if(!a||!t.state)throw Error("units should be available");const c=a[t.state],{Accordion:r}=o.components;return e.jsx(r,{name:"Converte para",icon:e.jsx(K,{sx:{transform:"rotate(180)"}}),summary:`${c.name} pode ser convertida em`,sx:{flexGrow:1},children:e.jsxs(te,{sx:{width:"100%"},role:"converts-to-list",children:[e.jsx(W,{from:c.id}),e.jsx(z,{unitId:c.id,type:"outputs"})]})})},nt=()=>e.jsxs(e.Fragment,{children:[e.jsx(et,{}),e.jsx(ot,{}),e.jsx(tt,{})]}),st=()=>{const o=p("Layout"),{Accordion:t}=o.components,a=p("Graph"),{useGraph:c}=a.hooks,r=N(u=>u.selectedNode),i=c(O,u=>r.state&&u?.nodes?{...u.nodes[r.state],scale:u.adjacencyList[r.state].outputs.filter(s=>u.edges[s].type==="BELONGS_TO").map(s=>u.edges[s].targetId).pop()}:void 0),[d,n]=h.useState(i.state);h.useEffect(()=>n(i.state),[r.state]);const m=h.useCallback(()=>{r.updateUnit(r.state,d?.name,d?.abbreviation,d?.scale)},[i]);return!r?.state||!i?.state?e.jsx(e.Fragment,{}):e.jsx(t,{name:"Propriedades",icon:e.jsx(Ie,{}),summary:"Propriedades da unidade",children:e.jsxs(oe,{variant:"outlined",square:!0,sx:{width:"100%",padding:1,"&:div + div":{borderTop:0},display:"flex",justifyContent:"space-between"},role:"unit-properties",children:[e.jsx(q,{id:"unit-name",label:"Nome",variant:"standard",value:d?.name??"",onChange:u=>n(s=>s&&{...s,name:u.target.value})}),e.jsx(q,{id:"abbreviation",label:"Abreviatura",variant:"standard",value:d?.abbreviation??"",onChange:u=>n(s=>s&&{...s,abbreviation:u.target.value}),sx:{alignItems:"center"}}),e.jsx(se,{value:d?.scale??"",onChange:u=>n(s=>s&&{...s,scale:u})}),e.jsxs(x,{sx:{display:"flex",flexDirection:"column",padding:0,gap:1,justifyContent:"space-between",alignContent:"space-evenly"},role:"actions",children:[e.jsx(G,{color:"success",id:"save-unit-properties",onClick:u=>m(),children:e.jsx(be,{})},"save"),e.jsx(G,{color:"info",id:"reset-unit-properties",onClick:u=>n(i.state),children:e.jsx(fe,{})},"reset")]})]})})},at=()=>{const o=p("Layout"),t=N(i=>i.selectedNode),a=w([t.state]);if(!a||!t.state)throw Error("units should be available");const c=a[t.state],{Accordion:r}=o.components;return e.jsxs(r,{name:"Converte de",icon:e.jsx(K,{}),summary:`Quais unidades podem ser convertidas em ${c.name}`,children:[e.jsx(W,{to:c.id}),e.jsx(z,{unitId:c.id,type:"inputs"})]})},it=()=>{const o=p("Layout"),t=N(i=>i.selectedNode),a=w([t.state]);if(!a||!t.state)throw Error("units should be available");const c=a[t.state],{Accordion:r}=o.components;return e.jsxs(r,{name:"Converte para",icon:e.jsx(K,{sx:{transform:"rotate(180)"}}),summary:`${c.name} pode ser convertida em`,children:[e.jsx(W,{from:c.id}),e.jsx(z,{unitId:c.id,type:"outputs"})]})},rt=()=>e.jsxs(e.Fragment,{children:[e.jsx(st,{}),e.jsx(it,{}),e.jsx(at,{})]}),dt=()=>e.jsx(e.Fragment,{children:"Escala selectionada"}),ut=()=>{const o=p("Layout"),t=p("Graph"),{DetailsPanel:a}=o.components,{useGraph:c}=t.hooks,r=N(d=>d.selectedNode),i=c(O,d=>r.state?d?.nodes[r.state]:void 0);return i.state?e.jsx(a,{children:e.jsxs(e.Fragment,{children:[i?.state?.type==="UNIT"&&e.jsx(nt,{}),i?.state?.type==="SCALE"&&e.jsx(dt,{}),i?.state?.type==="COMPOUND_UNIT"&&e.jsx(rt,{})]})}):e.jsx(e.Fragment,{})},ct=({name:o})=>{const t=p("Layout"),{ViewportNotificationsTray:a}=t.components;return e.jsxs(x,{role:"converter-graph-viewport",sx:{padding:1,height:"100%",position:"relative",overflow:"hidden"},children:[e.jsx(Xe,{graphId:O}),e.jsx(a,{children:e.jsx(e.Fragment,{})}),e.jsx(Ye,{}),e.jsx(ut,{})]})},Te=M.memo(ct),lt=()=>{const o=p("Layout"),{useViewportManager:t}=o.hooks,a=t();return e.jsx(e.Fragment,{children:e.jsx(G,{onClick:()=>a.functions.addViewport("Grafo de conversÃ£o","ConverterGraphViewport",void 0,"conversion-graph"),children:e.jsx(_e,{})})})},mt={id:"conversion-graph",nodes:{metros5:{type:"UNIT",id:"metros5",name:"metros",position:{x:0,y:0},abbreviation:"m"},comprimento6:{type:"SCALE",id:"comprimento6",name:"Comprimento",position:{x:0,y:0}},centimetros7:{type:"UNIT",id:"centimetros7",name:"centimetros",position:{x:0,y:0},abbreviation:"cm"},kilometros8:{type:"UNIT",id:"kilometros8",name:"kilometros",position:{x:0,y:0},abbreviation:"km"},milimetros9:{type:"UNIT",id:"milimetros9",name:"milimetros",position:{x:0,y:0},abbreviation:"mm"},monetaria10:{type:"SCALE",id:"monetaria10",name:"Monetaria",position:{x:0,y:0}},reais11:{type:"UNIT",id:"reais11",name:"reais",position:{x:0,y:0},abbreviation:"R$"},dolares12:{type:"UNIT",id:"dolares12",name:"dolares",position:{x:0,y:0},abbreviation:"$"},volume13:{type:"SCALE",id:"volume13",name:"Volume",position:{x:0,y:0}},litroscubicos14:{type:"UNIT",id:"litroscubicos14",name:"litros cubicos",position:{x:0,y:0},abbreviation:"lÂ³"},metroscubicos15:{type:"UNIT",id:"metroscubicos15",name:"metros cubicos",position:{x:0,y:0},abbreviation:"mÂ³"},area16:{type:"SCALE",id:"area16",name:"Area",position:{x:0,y:0}},metrosquadrados17:{type:"UNIT",id:"metrosquadrados17",name:"metros quadrados",position:{x:0,y:0},abbreviation:"mÂ²"},unitario18:{type:"UNIT",id:"unitario18",name:"unitario",position:{x:0,y:0},abbreviation:"un"},capacidade5:{type:"SCALE",id:"capacidade5",name:"Capacidade",position:{x:0,y:0}},mililitros6:{type:"UNIT",id:"mililitros6",name:"mililitros",position:{x:0,y:0},abbreviation:"ml"},litros7:{type:"UNIT",id:"litros7",name:"litros",position:{x:0,y:0},abbreviation:"l"},kilometrosquadrados8:{type:"UNIT",id:"kilometrosquadrados8",name:"kilometros quadrados",position:{x:0,y:0},abbreviation:"kmÂ²"},centimetrosquadrados9:{type:"UNIT",id:"centimetrosquadrados9",name:"centimetros quadrados",position:{x:0,y:0},abbreviation:"cmÂ²"},temporal247:{type:"SCALE",id:"temporal247",name:"Temporal",position:{x:0,y:0}},segundos248:{type:"UNIT",id:"segundos248",name:"segundos",position:{x:0,y:0},abbreviation:"seg"},minutos249:{type:"UNIT",id:"minutos249",name:"minutos",position:{x:0,y:0},abbreviation:"min"},hora250:{type:"UNIT",id:"hora250",name:"hora",position:{x:0,y:0},abbreviation:"h"},dia251:{type:"UNIT",id:"dia251",name:"dia",position:{x:0,y:0},abbreviation:"d"},mes252:{type:"UNIT",id:"mes252",name:"mes",position:{x:0,y:0},abbreviation:"mes"},semana253:{type:"UNIT",id:"semana253",name:"semana",position:{x:0,y:0},abbreviation:"sem"},peso5:{type:"SCALE",id:"peso5",name:"Peso",position:{x:0,y:0}},kilogramas6:{type:"UNIT",id:"kilogramas6",name:"Kilogramas",position:{x:0,y:0},abbreviation:"Kg"},gramas7:{type:"UNIT",id:"gramas7",name:"gramas",position:{x:0,y:0},abbreviation:"g"},miligramas8:{type:"UNIT",id:"miligramas8",name:"miligramas",position:{x:0,y:0},abbreviation:"mg"},"un / min":{id:"un / min",type:"COMPOUND_UNIT",position:{x:0,y:0},quotientUnitId:"unitario18",dividendUnitId:"minutos249",abbreviation:"un / min",name:"unitario per minutos"},"R$ / h":{id:"R$ / h",type:"COMPOUND_UNIT",position:{x:0,y:0},quotientUnitId:"reais11",dividendUnitId:"hora250",abbreviation:"R$ / h",name:"reais per hora"},"R$ / un":{id:"R$ / un",type:"COMPOUND_UNIT",position:{x:0,y:0},quotientUnitId:"reais11",dividendUnitId:"unitario18",abbreviation:"R$ / un",name:"reais per unitario"},"un / h":{id:"un / h",type:"COMPOUND_UNIT",position:{x:0,y:0},quotientUnitId:"unitario18",dividendUnitId:"hora250",abbreviation:"un / h",name:"unitario per hora"},"mÂ² / Kg":{id:"mÂ² / Kg",type:"COMPOUND_UNIT",position:{x:0,y:0},quotientUnitId:"metrosquadrados17",dividendUnitId:"kilogramas6",abbreviation:"mÂ² / Kg",name:"metros quadrados per Kilogramas"},"mÂ² / un":{id:"mÂ² / un",type:"COMPOUND_UNIT",position:{x:0,y:0},quotientUnitId:"metrosquadrados17",dividendUnitId:"unitario18",abbreviation:"mÂ² / un",name:"metros quadrados per unitario"}},edges:{"metros5 -> comprimento6":{id:"metros5 -> comprimento6",type:"BELONGS_TO",sourceId:"metros5",targetId:"comprimento6"},"centimetros7 -> comprimento6":{id:"centimetros7 -> comprimento6",type:"BELONGS_TO",sourceId:"centimetros7",targetId:"comprimento6"},"kilometros8 -> comprimento6":{id:"kilometros8 -> comprimento6",type:"BELONGS_TO",sourceId:"kilometros8",targetId:"comprimento6"},"milimetros9 -> comprimento6":{id:"milimetros9 -> comprimento6",type:"BELONGS_TO",sourceId:"milimetros9",targetId:"comprimento6"},"reais11 -> monetaria10":{id:"reais11 -> monetaria10",type:"BELONGS_TO",sourceId:"reais11",targetId:"monetaria10"},"dolares12 -> monetaria10":{id:"dolares12 -> monetaria10",type:"BELONGS_TO",sourceId:"dolares12",targetId:"monetaria10"},"litroscubicos14 -> volume13":{id:"litroscubicos14 -> volume13",type:"BELONGS_TO",sourceId:"litroscubicos14",targetId:"volume13"},"metroscubicos15 -> volume13":{id:"metroscubicos15 -> volume13",type:"BELONGS_TO",sourceId:"metroscubicos15",targetId:"volume13"},"metrosquadrados17 -> area16":{id:"metrosquadrados17 -> area16",type:"BELONGS_TO",sourceId:"metrosquadrados17",targetId:"area16"},"mililitros6 -> volume13":{id:"mililitros6 -> volume13",type:"BELONGS_TO",sourceId:"mililitros6",targetId:"volume13"},"litros7 -> volume13":{id:"litros7 -> volume13",type:"BELONGS_TO",sourceId:"litros7",targetId:"volume13"},"kilometrosquadrados8 -> area16":{id:"kilometrosquadrados8 -> area16",type:"BELONGS_TO",sourceId:"kilometrosquadrados8",targetId:"area16"},"centimetrosquadrados9 -> area16":{id:"centimetrosquadrados9 -> area16",type:"BELONGS_TO",sourceId:"centimetrosquadrados9",targetId:"area16"},"segundos248 -> temporal247":{id:"segundos248 -> temporal247",type:"BELONGS_TO",sourceId:"segundos248",targetId:"temporal247"},"minutos249 -> temporal247":{id:"minutos249 -> temporal247",type:"BELONGS_TO",sourceId:"minutos249",targetId:"temporal247"},"hora250 -> temporal247":{id:"hora250 -> temporal247",type:"BELONGS_TO",sourceId:"hora250",targetId:"temporal247"},"dia251 -> temporal247":{id:"dia251 -> temporal247",type:"BELONGS_TO",sourceId:"dia251",targetId:"temporal247"},"mes252 -> temporal247":{id:"mes252 -> temporal247",type:"BELONGS_TO",sourceId:"mes252",targetId:"temporal247"},"semana253 -> temporal247":{id:"semana253 -> temporal247",type:"BELONGS_TO",sourceId:"semana253",targetId:"temporal247"},"kilogramas6 -> peso5":{id:"kilogramas6 -> peso5",type:"BELONGS_TO",sourceId:"kilogramas6",targetId:"peso5"},"gramas7 -> peso5":{id:"gramas7 -> peso5",type:"BELONGS_TO",sourceId:"gramas7",targetId:"peso5"},"miligramas8 -> peso5":{id:"miligramas8 -> peso5",type:"BELONGS_TO",sourceId:"miligramas8",targetId:"peso5"},"un / min->unitario18":{id:"un / min->unitario18",type:"QUOTIENT",sourceId:"un / min",targetId:"unitario18"},"un / min->minutos249":{id:"un / min->minutos249",type:"DIVIDEND",sourceId:"un / min",targetId:"minutos249"},"R$ / h->reais11":{id:"R$ / h->reais11",type:"QUOTIENT",sourceId:"R$ / h",targetId:"reais11"},"R$ / h->hora250":{id:"R$ / h->hora250",type:"DIVIDEND",sourceId:"R$ / h",targetId:"hora250"},"R$ / un->reais11":{id:"R$ / un->reais11",type:"QUOTIENT",sourceId:"R$ / un",targetId:"reais11"},"R$ / un->unitario18":{id:"R$ / un->unitario18",type:"DIVIDEND",sourceId:"R$ / un",targetId:"unitario18"},"un / h->unitario18":{id:"un / h->unitario18",type:"QUOTIENT",sourceId:"un / h",targetId:"unitario18"},"un / h->hora250":{id:"un / h->hora250",type:"DIVIDEND",sourceId:"un / h",targetId:"hora250"},"mÂ² / Kg->metrosquadrados17":{id:"mÂ² / Kg->metrosquadrados17",type:"QUOTIENT",sourceId:"mÂ² / Kg",targetId:"metrosquadrados17"},"mÂ² / Kg->kilogramas6":{id:"mÂ² / Kg->kilogramas6",type:"DIVIDEND",sourceId:"mÂ² / Kg",targetId:"kilogramas6"},"un / h-[conv]->un / min":{type:"CONVERTS_TO",conversionType:"expression",expression:"(quantidadeQuociente / quantidadeDividendo) / 60",id:"un / h-[conv]->un / min",sourceId:"un / h",targetId:"un / min"},"un / min-[conv]->un / h":{type:"CONVERTS_TO",conversionType:"expression",expression:"(quantidadeQuociente / quantidadeDividendo) * 60",id:"un / min-[conv]->un / h",sourceId:"un / min",targetId:"un / h"},"R$ / un-[conv]->reais11":{type:"CONVERTS_TO",conversionType:"expression",expression:"(quantidadeQuociente / quantidadeDividendo) * unidades",id:"R$ / un-[conv]->reais11",sourceId:"R$ / un",targetId:"reais11"},"semana253-[conv]->dia251":{type:"CONVERTS_TO",conversionType:"expression",expression:"quantidade * 7",id:"semana253-[conv]->dia251",sourceId:"semana253",targetId:"dia251"},"semana253-[conv]->mes252":{type:"CONVERTS_TO",conversionType:"expression",expression:"quantidade / 4",id:"semana253-[conv]->mes252",sourceId:"semana253",targetId:"mes252"},"dia251-[conv]->hora250":{type:"CONVERTS_TO",conversionType:"expression",expression:"quantidade / 24",id:"dia251-[conv]->hora250",sourceId:"dia251",targetId:"hora250"},"hora250-[conv]->minutos249":{type:"CONVERTS_TO",conversionType:"expression",expression:"quantidade / 60",id:"hora250-[conv]->minutos249",sourceId:"hora250",targetId:"minutos249"},"minutos249-[conv]->segundos248":{type:"CONVERTS_TO",conversionType:"expression",expression:"quantidade / 60",id:"minutos249-[conv]->segundos248",sourceId:"minutos249",targetId:"segundos248"},"mÂ² / Kg-[conv]->kilogramas6":{type:"CONVERTS_TO",conversionType:"expression",expression:"(quantidadeQuociente / quantidadeDividendo) * metrosQuadrado",id:"mÂ² / Kg-[conv]->kilogramas6",sourceId:"mÂ² / Kg",targetId:"kilogramas6"},"mÂ² / un->metrosquadrados17":{id:"mÂ² / un->metrosquadrados17",type:"QUOTIENT",sourceId:"mÂ² / un",targetId:"metrosquadrados17"},"mÂ² / un->unitario18":{id:"mÂ² / un->unitario18",type:"DIVIDEND",sourceId:"mÂ² / un",targetId:"unitario18"},"mÂ² / un-[conv]->metrosquadrados17":{type:"CONVERTS_TO",conversionType:"expression",expression:"(quantidadeQuociente / quantidadeDividendo) * unidades",id:"mÂ² / un-[conv]->metrosquadrados17",sourceId:"mÂ² / un",targetId:"metrosquadrados17"}},adjacencyList:{metros5:{inputs:[],outputs:["metros5 -> comprimento6"]},comprimento6:{inputs:["metros5 -> comprimento6","centimetros7 -> comprimento6","kilometros8 -> comprimento6","milimetros9 -> comprimento6"],outputs:[]},centimetros7:{inputs:[],outputs:["centimetros7 -> comprimento6"]},kilometros8:{inputs:[],outputs:["kilometros8 -> comprimento6"]},milimetros9:{inputs:[],outputs:["milimetros9 -> comprimento6"]},monetaria10:{inputs:["reais11 -> monetaria10","dolares12 -> monetaria10"],outputs:[]},reais11:{inputs:["R$ / h->reais11","R$ / un->reais11","R$ / un-[conv]->reais11"],outputs:["reais11 -> monetaria10"]},dolares12:{inputs:[],outputs:["dolares12 -> monetaria10"]},volume13:{inputs:["litroscubicos14 -> volume13","metroscubicos15 -> volume13","mililitros6 -> volume13","litros7 -> volume13"],outputs:[]},litroscubicos14:{inputs:[],outputs:["litroscubicos14 -> volume13"]},metroscubicos15:{inputs:[],outputs:["metroscubicos15 -> volume13"]},area16:{inputs:["metrosquadrados17 -> area16","kilometrosquadrados8 -> area16","centimetrosquadrados9 -> area16"],outputs:[]},metrosquadrados17:{inputs:["mÂ² / Kg->metrosquadrados17","mÂ² / un->metrosquadrados17","mÂ² / un-[conv]->metrosquadrados17"],outputs:["metrosquadrados17 -> area16"]},unitario18:{inputs:["un / min->unitario18","R$ / un->unitario18","un / h->unitario18","mÂ² / un->unitario18"],outputs:[]},capacidade5:{inputs:[],outputs:[]},mililitros6:{inputs:[],outputs:["mililitros6 -> volume13"]},litros7:{inputs:[],outputs:["litros7 -> volume13"]},kilometrosquadrados8:{inputs:[],outputs:["kilometrosquadrados8 -> area16"]},centimetrosquadrados9:{inputs:[],outputs:["centimetrosquadrados9 -> area16"]},temporal247:{inputs:["segundos248 -> temporal247","minutos249 -> temporal247","hora250 -> temporal247","dia251 -> temporal247","mes252 -> temporal247","semana253 -> temporal247"],outputs:[]},segundos248:{inputs:["minutos249-[conv]->segundos248"],outputs:["segundos248 -> temporal247"]},minutos249:{inputs:["un / min->minutos249","hora250-[conv]->minutos249"],outputs:["minutos249 -> temporal247","minutos249-[conv]->segundos248"]},hora250:{inputs:["R$ / h->hora250","un / h->hora250","dia251-[conv]->hora250"],outputs:["hora250 -> temporal247","hora250-[conv]->minutos249"]},dia251:{inputs:["semana253-[conv]->dia251"],outputs:["dia251 -> temporal247","dia251-[conv]->hora250"]},mes252:{inputs:["semana253-[conv]->mes252"],outputs:["mes252 -> temporal247"]},semana253:{inputs:[],outputs:["semana253 -> temporal247","semana253-[conv]->dia251","semana253-[conv]->mes252"]},peso5:{inputs:["kilogramas6 -> peso5","gramas7 -> peso5","miligramas8 -> peso5"],outputs:[]},kilogramas6:{inputs:["mÂ² / Kg->kilogramas6","mÂ² / Kg-[conv]->kilogramas6"],outputs:["kilogramas6 -> peso5"]},gramas7:{inputs:[],outputs:["gramas7 -> peso5"]},miligramas8:{inputs:[],outputs:["miligramas8 -> peso5"]},"un / min":{inputs:["un / h-[conv]->un / min"],outputs:["un / min->unitario18","un / min->minutos249","un / min-[conv]->un / h"]},"R$ / h":{inputs:[],outputs:["R$ / h->reais11","R$ / h->hora250"]},"R$ / un":{inputs:[],outputs:["R$ / un->reais11","R$ / un->unitario18","R$ / un-[conv]->reais11"]},"un / h":{inputs:["un / min-[conv]->un / h"],outputs:["un / h->unitario18","un / h->hora250","un / h-[conv]->un / min"]},"mÂ² / Kg":{inputs:[],outputs:["mÂ² / Kg->metrosquadrados17","mÂ² / Kg->kilogramas6","mÂ² / Kg-[conv]->kilogramas6"]},"mÂ² / un":{inputs:[],outputs:["mÂ² / un->metrosquadrados17","mÂ² / un->unitario18","mÂ² / un-[conv]->metrosquadrados17"]}},searchResults:{}},ae=De();ae.startListening({actionCreator:Ce,effect:async(o,t)=>{const{dispatch:a}=t;a(Re({graphId:O})),a(Ae({graphId:O,graph:mt})),a(Fe())}});ae.startListening({actionCreator:ne,effect:async(o,t)=>{const{dispatch:a}=t;a(Ke(o.payload))}});function pt({dispatch:o,managers:{storeManager:t,componentRegistryManager:a,ribbonMenuManager:c}}){t.functions.loadReducer(k,Qe.reducer),t.functions.registerMiddleware(ae),o(Ce()),a.functions.registerComponents({ribbonMenuSections:{ConversorGraphSection:M.memo(lt)},viewportTypes:{ConverterGraphViewport:Te}}),c.functions.addNewTab({label:"Conversor",sectionNames:["ConversorGraphSection"],type:"base"})}function J(o){const t=Ne(o);return`${t.amount} ${t.unit}`}function Ne(o){const t=["centavos","R$"];let a=0,c=o;for(;c>=100&&a<t.length-1;)a+=1,c/=100;return{amount:c,unit:t[a]}}function X(o){return o<1e4?Math.round(Math.sqrt(o)):+Math.pow(o/1e3,2).toPrecision(2)}function xt({label:o,icon:t,onChange:a,slots:c}){const[r,i]=M.useState(10),d=(n,m)=>{typeof m=="number"&&(i(m),a(Ne(X(m)))),n.stopPropagation(),n.preventDefault()};return e.jsxs(x,{sx:{width:250},role:"money-slider",onPointerMove:n=>{n.stopPropagation(),n.preventDefault()},children:[e.jsxs(x,{children:[e.jsxs($,{id:"money-slider",gutterBottom:!0,children:[o,": ",J(X(r))]}),c?.coumpoundSelector]}),e.jsxs(L,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(L,{item:!0,children:t}),e.jsx(L,{item:!0,xs:!0,children:e.jsx(je,{value:r,min:0,step:.01,max:1e5,marks:[{value:1e4,label:"1 R$"},{value:32e3,label:"10 R$"}],scale:X,getAriaValueText:J,valueLabelFormat:J,onChange:d,valueLabelDisplay:"auto","aria-labelledby":"money-slider"})})]})]})}function ve(o){const t=Oe(o);return`${t.amount} ${t.unit}`}function Oe(o){const t=["s","m","h","d"],a=[1,60,3600,86400],c=a.findIndex(d=>d>=o),r=Math.max(c<0?3:c-1,0);return{amount:Math.round(o/a[r]),unit:t[r]}}function ye(o){let a=o;return o<108e3?a=o/120:o<2*108e3?a=o/240:o>3*108e3&&(a=o),a}function ht({label:o,icon:t,onChange:a,slots:c}){const[r,i]=M.useState(10),d=(n,m)=>{typeof m=="number"&&(i(m),a(Oe(ye(m)))),n.stopPropagation(),n.preventDefault()};return e.jsxs(x,{sx:{width:"min-content"},onPointerMove:n=>{n.stopPropagation(),n.preventDefault()},children:[e.jsxs(x,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:1},children:[e.jsxs(e.Fragment,{children:[e.jsx(q,{id:"quotient-number",size:"small",type:"number",sx:{minWidth:80},InputLabelProps:{shrink:!0},value:100}),e.jsxs(V,{id:"quotient-unit-selector",size:"small",sx:{width:"min-content"},children:[e.jsx(E,{value:"week",children:"Sem."}),e.jsx(E,{value:"day",children:"Dia"}),e.jsx(E,{value:"h",children:"Hr"}),e.jsx(E,{value:"m",children:"min"}),e.jsx(E,{value:"s",children:"sec"})]})]}),e.jsx("span",{children:"/"}),c?.coumpoundSelector]}),e.jsxs(L,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(L,{item:!0,children:t}),e.jsx(L,{item:!0,xs:!0,children:e.jsx(je,{value:r,min:0,step:10,max:432e3,marks:[],scale:ye,getAriaValueText:ve,valueLabelFormat:ve,onChange:d,valueLabelDisplay:"auto","aria-labelledby":"time-slider"})})]})]})}function gt({scale:o,...t}){return o==="money"?e.jsx(xt,{...t}):e.jsx(ht,{...t})}function ee({onChange:o,value:t,children:a,selectorProps:c={sx:{}},textFieldProps:r={sx:{}},...i}){return e.jsxs(x,{role:"unit-selector",...i,sx:{display:"flex",gap:.2},children:[e.jsx(A,{children:e.jsx(q,{id:"amount",size:"small",type:"number",autoComplete:"off",sx:{...c.sx,width:"100px",minWidth:80},value:t.amount,onChange:d=>o({unit:t.unit,amount:d.target.valueAsNumber})})}),e.jsx(A,{children:e.jsx(V,{id:"unit-selector",inputProps:{id:"unit"},size:"small",sx:{...r.sx,width:"max(min-content, 100px)",minWidth:100},onChange:d=>o({amount:t.amount,unit:d.target.value}),value:t.unit,children:a})})]})}function vt({label:o,value:t,onChange:a,filterQuotients:c=()=>!0,filterDividends:r=()=>!0}){const i=p("Graph"),{useGraph:d}=i.hooks,n=d(O,s=>Object.values(s?.nodes??{}).filter(I=>I.type==="UNIT").map(I=>({...I,scale:Object.values(s?.nodes??{}).filter(l=>l.type==="SCALE").find(l=>s?.adjacencyList[I.id].outputs.includes(`${I.id} -> ${l.id}`))}))),m=h.useMemo(()=>n?.state?.filter(s=>c(s,s.scale))??[],[n.state,c]),u=h.useMemo(()=>n?.state?.filter(s=>r(s,s.scale))??[],[n.state,c]);return e.jsxs(x,{role:"compound-selector",width:"min-content",sx:{display:"flex",gap:1,alignItems:"baseline"},children:[o&&e.jsx($,{gutterBottom:!0,sx:{minWidth:"50px"},children:o}),e.jsxs(x,{sx:{display:"flex",gap:1,alignItems:"baseline"},children:[e.jsx(ee,{id:"quotient-selector",value:t.quotient,onChange:s=>a({...t,quotient:s}),selectorProps:{sx:{width:"10px"}},children:m.map(({id:s,name:I,abbreviation:l})=>e.jsx(E,{value:s,children:l},s))},"quotient"),e.jsx("span",{children:"/"}),e.jsx(ee,{id:"dividend-selector",value:t.dividend,onChange:s=>a({...t,dividend:s}),sx:{width:"max-content"},children:u.map(({id:s,name:I,abbreviation:l})=>e.jsx(E,{value:s,children:l},s))},"dividend")]})]})}const yt=()=>({time:Object.entries(Be).map(([o,t])=>({value:o,label:t}))}),It=({icon:o,value:t})=>{const a=w([t.quotient.unit,t.dividend.unit]);return a?e.jsxs(x,{sx:{display:"flex",gap:.3,alignItems:"center"},children:[o&&e.jsx("div",{role:"coumpound-value-icon",children:o}),e.jsxs("div",{role:"coumpound-value-value",children:[t.quotient.amount," ",a[t.quotient.unit].abbreviation," / ",t.dividend.amount," ",a[t.dividend.unit].abbreviation]})]}):e.jsx(e.Fragment,{})},jt={name:k,version:Pe,depends_on:["Graph"],components:{CoverterGraphViewport:Te,ScaleSlider:gt,CompoundSelector:vt,UnitAmountSelector:ee,CompoundUnit:It},store:{actions:{},middlewares:[],reducers:{}},hooks:{useScales:yt,useUnits:w},constants:{},kernelCalls:{startModule:pt,restartModule:()=>{},shutdownModule:()=>{}}};export{jt as m};
